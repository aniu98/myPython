# 背景

最近在玩微信小程序的游戏 叫动物餐厅,游戏很无聊,但是我想超过同事

所以我就自己写了外挂,控制鼠标去点击游戏,忽然同事推荐了一个[贴子](https://mp.weixin.qq.com/s/AWkkiv2fhMEpoaeazh218w),所以就学了下怎么控制手机

# 工具

有人推荐`appium` 和 `uiautomator2` 这两款工具,我就跟着学了下如何控制手机,同时查还有 `weditor` 这种可以在电脑查看手机的工具

# 原理

接下来介绍下原理和实现方式，基本的流水程就是

1. 打开支付宝；
2. 打开蚂蚁森林；
3. 先收取自己的能量；
4. 跳到下一个有能量的人那边；
5. 收取 ta 的能量
6. 重复 4 和 5，直到没有能量可以“偷”



# Uiautomator2的安装和使用

详细可以参考下官方文档Uiautomator2 ，安装方式很简单，下面一条命令即可。

- 

```shell
pip install --upgrade --pre uiautomator2
```

使用的话这里有几个坑，手机接入电脑前首先需要开启开发者模式，并开启USB调试，USB安装 (如下图)，这样才能保证uiautomator2有足够的权限操作你的手机。

第一次使用过uiautomator2后，它会在你手机上安装ATX这个应用，打开这个应用你就可以之后通过无线的方式操作你的手机了。

# 代码

[见](antForest.py)